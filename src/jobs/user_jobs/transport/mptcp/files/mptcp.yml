---

general:
  name:            mptcp
  description: >
      This Job executes the mptcp command to measure the rtt delay of a group of ICMP packets (with a frequency of count*interval).
      It sends syslog in case of error.
  job_version:     0.1
  keywords:        [mptcp, tcp, multipath, routing, hybrid]
  persistent:      true

platform_configuration:
  - ansible_os_family: 'Debian'
    ansible_distribution: 'Ubuntu'
    ansible_distribution_version: '16.04'
    command: '/usr/bin/env python3 /opt/openbach/agent/jobs/mptcp/mptcp.py'
    command_stop:

arguments:
  required:
    - name:        iface_link1
      type:        'str'
      count:       1
      description: >
          The interface name of link1
    - name:        iface_link2
      type:        'str'
      count:       1
      description: >
          The interface of link2

  optional:
    - name:        enable
      type:        'int'
      count:       1
      flag:        '-c'
      description: >
          Enable (1) or disable(0) mptcp and routing. Default=1
    - name:        iface_on1
      type:        'None'
      count:       0
      flag:        '-o'
      description: >
          Enable MP-TCP on interface 1.
    - name:        iface_on2
      type:        'None'
      count:       0
      flag:        '-O'
      description: >
          Enable MP-TCP on interface 2.
    - name:        checksum
      type:        'int'
      count:       1
      flag:        '-k'
      description: >
          Enable (1) or disable(0) mptcp checksum. If empty, configuration 
          remains unmodified.
    - name:        syn_retries
      type:        'int'
      count:       1
      flag:        '-y'
      description: >
          How often a SYN is retransmitted with MP_CAPABLE-option. If empty, 
          configuration remains unmodified.
    - name:        path_manager
      type:        'str'
      count:       1
      flag:        '-p'
      description: >
          Select one of the compiled path managers. Possible values are: default, fullmesh,
          ndiffports, and binder.
    - name:        scheduler
      type:        'str'
      count:       1
      flag:        '-s'
      description: >
          Select one of the compiled schedulers. Possible values are: default, roundrobin,
          redundant.

statistics:
