{
  "name": "Recurence",
  "description": "Recurence scenario (for test)",
  "arguments": {
    "scenario": "Name of the scenario to call"
  },
  "constants": {
    "agentA": "172.20.34.38",
    "agentB": "172.20.34.37",
    "agentC": "172.20.34.39"
  },
  "openbach_functions": [
    {
      "status_agents": {
        "addresses": [
          "$agentA"
        ],
        "update": true
      },
      "wait": {
        "time": 0,
        "launched_indexes": [],
        "finished_indexes": []
      }
    },
    {
      "while": {
        "condition": {
          "type": "=",
          "operand1": {
            "type": "database",
            "name": "Agent",
            "key": "$agentA",
            "attribute": "status"
          },
          "operand2": {
            "type": "value",
            "value": "Available"
          }
        },
        "openbach_function_while_indexes": [
          3
        ],
        "openbach_function_end_indexes": [
          4
        ]
      },
      "wait": {
        "time": 0,
        "launched_indexes": [
          1
        ],
        "finished_indexes": []
      }
    },
    {
      "start_scenario_instance": {
        "scenario_name": "$scenario",
        "args": {}
      },
      "wait": {
        "time": 0,
        "launched_indexes": [],
        "finished_indexes": []
      }
    },
    {
      "status_agents": {
        "addresses": [
          "$agentA"
        ],
        "update": true
      },
      "wait": {
        "time": 0,
        "launched_indexes": [],
        "finished_indexes": []
      }
    },
    {
      "status_agents": {
        "addresses": [
          "$agentB"
        ],
        "update": true
      },
      "wait": {
        "time": 0,
        "launched_indexes": [
          3
        ],
        "finished_indexes": []
      }
    }
  ]
}
