---

general:
  name:            iperf
  description: >
      This Job launches the iperf tool (client or server mode)
  job_version:     0.1
  keywords:        [iperf]
  persistent:      True

os:
  linux:
    requirements:  'Ubuntu 14.04/16.04'
    command:       'python3 /opt/openbach-jobs/iperf/iperf.py'
    command_stop:

arguments:
  required:
  optional:
    - name:        server_mode
      type:        'None'
      count:       '0'
      flag:        '-s'
      description: >
          Start the iperf in server mode
    - name:        client_mode_server_ip
      type:        'str'
      count:       '1'
      flag:        '-c'
      description: >
          The IP address of server to start the iperf in client mode
    - name:        interval
      type:        'int'
      count:       1
      flag:        '-i'
      description: >
          Pause interval seconds between periodic bandwidth reports
    - name:        length
      type:        'int'
      count:       1
      flag:        '-l'
      description: >
          Set length read/write buffer to n (default 8 KB)
    - name:        port
      type:        'int'
      count:       1
      flag:        '-p'
      description: >
          Set server port to listen on/connect to to n (default 5001)
    - name:        udp
      type:        'None'
      count:       0
      flag:        '-u'
      description: >
          Use UDP rather than TCP
    - name:        bandwidth
      type:        'float'
      count:       1
      flag:        '-b'
      description: >
          Set target bandwidth to n bits/sec (default 1 Mbit/sec). This setting
          requires UDP (-u) and client mode.
    - name:        time
      type:        'float'
      count:       1
      flag:        '-t'
      description: >
          Time in seconds to transmit for (default 10 secs).
          This setting requires client mode.

statistics:

